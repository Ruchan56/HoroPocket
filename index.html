<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>占い</title>

<style>
  :root{
    --bg:#f7f1e6;
    --text:#4a3b2a;
    --panel:#f3ebdd;
  }

  body{
    margin:0;
    font-family:"Hiragino Mincho ProN","Yu Mincho","serif";
    background:var(--bg);
    color:var(--text);
    text-align:center;
  }

  .top-area{
    padding:40px 20px 20px;
    background:var(--panel);
  }

  .lead{
    font-size:18px;
    letter-spacing:0.15em;
    margin-bottom:20px;
  }

  .sunmoon{
    width:260px;
    max-width:60%;
    height:auto;
  }

  .title{
    font-size:70px;
    margin:20px 0 40px;
  }

  .input-block{
    padding:40px 0;
  }

  .input-label{
    font-size:22px;
    margin:20px 0 10px;
  }

  input[type="text"],
  input[type="date"]{
    width:80%;
    max-width:420px;
    padding:12px 16px;
    font-size:20px;
    border-radius:6px;
    border:1px solid rgba(0,0,0,0.15);
    background:white;
    color:var(--text);
    margin-bottom:16px;
  }

  button{
    padding:14px 30px;
    font-size:20px;
    border:none;
    border-radius:8px;
    background:#c7b28a;
    color:white;
    cursor:pointer;
    margin-top:20px;
  }

  #result{
    margin-top:40px;
    font-size:20px;
    line-height:1.9;
    padding:0 20px 50px;
  }

  @media(max-width:480px){
    .title{ font-size:48px; }
    .sunmoon{ width:200px; }
  }
</style>
</head>
<body>

  <div class="top-area">
      <div class="lead">あなたの未来を占います</div>
      <img src="sunmoon.png" alt="太陽と月" class="sunmoon">
      <div class="title">占い</div>
  </div>

  <div class="input-block">
      <div class="input-label">名前</div>
      <input type="text" id="name" placeholder="名前を入力">

      <div class="input-label">生年月日</div>
      <input type="date" id="birth">

      <button onclick="showFortune()">占う</button>
  </div>

  <div id="result"></div>

<script>
// ------------------------
// 占いデータ
// ------------------------
const fortunes = {
  "大吉": {
    "総合運": "今日はラッキーな日。小さな幸せを見逃さないで",
    "恋愛運": "大切な人とコミュニケーションを取ると吉",
    "金運": "臨時収入があるかも。チャンスを逃さないで。",
    "アドバイス": "ポジティブな気持ちで過ごすと運気アップ",
    "ラッキーカラー": "赤"
  },
  "吉": {
    "総合運": "今日は少し良いことがありそう。",
    "恋愛運": "積極的な行動が吉",
    "金運": "無駄遣いを控えれば安定",
    "アドバイス": "人との関わりを大切にすると吉",
    "ラッキーカラー": "青"
  },
  "中吉": {
    "総合運": "気分が安定する日。落ち着いて行動すると吉",
    "恋愛運": "優しくすると好感度アップ",
    "金運": "計画的な支出で運気上昇",
    "アドバイス": "落ち着いてから行動すると◎",
    "ラッキーカラー": "緑"
  },
  "小吉": {
    "総合運": "今日は少し注意が必要。",
    "恋愛運": "思いやりを意識すると吉",
    "金運": "浪費に注意",
    "アドバイス": "慎重に行動してね",
    "ラッキーカラー": "黄色"
  },
  "末吉": {
    "総合運": "今日は普通の日。",
    "恋愛運": "焦らず自然体で",
    "金運": "大きな変化なし",
    "アドバイス": "小さな幸せを大切に",
    "ラッキーカラー": "紫"
  },
  "凶": {
    "総合運": "今日は注意の日。",
    "恋愛運": "誤解が起きやすいので慎重に",
    "金運": "無駄遣いに注意",
    "アドバイス": "ゆっくり深呼吸して",
    "ラッキーカラー": "黒"
  }
};

// ------------------------
// 占いの表示
// ------------------------
function showFortune() {
  const name = document.getElementById("name").value;
  const birth = document.getElementById("birth").value;

  if (!name || !birth) {
    alert("名前と生年月日を入力してください");
    return;
  }

  const seed = hashCode(name + birth);
  const keys = Object.keys(fortunes);
  const luck = keys[seed % keys.length];
  const data = fortunes[luck];

  document.getElementById("result").innerHTML = `
    <h2>今日のあなたは…</h2>
    <div style="font-size:50px; margin:20px 0;">${luck}</div>

    <p><strong>総合運：</strong>${data["総合運"]}</p>
    <p><strong>恋愛運：</strong>${data["恋愛運"]}</p>
    <p><strong>金運：</strong>${data["金運"]}</p>
    <p><strong>アドバイス：</strong>${data["アドバイス"]}</p>
    <p><strong>ラッキーカラー：</strong>${data["ラッキーカラー"]}</p>
  `;
}

// ------------------------
// 名前＋生年月日 → 固定結果用のハッシュ
// ------------------------
function hashCode(str) {
  let hash = 0;
  for (let i = 0; i < str.length; i++) {
    hash = str.charCodeAt(i) + ((hash << 5) - hash);
  }
  return Math.abs(hash);
}
</script>

</body>
</html>




