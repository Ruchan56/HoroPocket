// 運勢ランク
const ranking = ["大吉", "吉", "中吉", "小吉", "末吉", "凶"];

// 総合運
const general = [
  "今日はラッキーな日。小さな幸せを見逃さないで。",
  "普通の日。いつも通り過ごすのが吉。",
  "注意が必要な日。焦らず慎重に。",
  "挑戦するのに良い日。勇気を出して行動して。",
  "気持ちが安定する日。落ち着いて過ごそう。",
  "新しいことを始めると良い日。",
  "小さな喜びが続く日。感謝すると吉。",
  "集中力が高まる日。計画的に行動しよう。",
  "今日はリラックスを意識すると良い日。",
  "人との関わりが幸運を呼ぶ日。",
  "少し冒険してみると吉。",
  "普段の努力が報われる日。",
  "健康に気をつけると運気アップ。",
  "友達との会話で良い情報が得られる日。",
  "慎重に判断すると良い日。",
  "直感が冴える日。信じて行動して。",
  "些細なことに幸せを感じる日。",
  "挑戦よりも安定を重視すると吉。",
  "ポジティブな気持ちで過ごすと運気アップ。",
  "感謝の気持ちを忘れないと良い日。"
];

// 恋愛運
const love = [
  "大切な人とコミュニケーションを取ると吉。",
  "気持ちを伝えるチャンス。勇気を出してみて。",
  "今日は相手を思いやる気持ちが大切。",
  "新しい出会いがあるかも。積極的に行動して。",
  "二人の関係が深まる日。話す時間を大切に。",
  "恋愛運は安定。いつも通りでOK。",
  "小さなサプライズが喜ばれる日。",
  "今日は聞き役に回ると吉。",
  "相手の気持ちを尊重すると良い日。",
  "積極的な行動で運気アップ。",
  "相手に感謝を伝えると良い日。",
  "慎重に距離を縮めると吉。",
  "思いやりのある言動が運気を上げる日。",
  "今日はロマンチックな気分になれる日。",
  "相手と過ごす時間を楽しむと吉。",
  "些細なことで仲良くなれる日。",
  "自分の気持ちを正直に伝えると吉。",
  "コミュニケーションがカギの日。",
  "相手の気持ちを尊重すると良い日。",
  "恋愛に関して前向きな行動が吉。"
];

// 金運・仕事運
const money = [
  "臨時収入があるかも。チャンスを逃さないで。",
  "今日は節約を意識すると吉。",
  "仕事での努力が評価される日。",
  "新しい仕事のチャンスがある日。行動してみて。",
  "大きな買い物は控えめにすると良い日。",
  "同僚や上司とのコミュニケーションが運気アップ。",
  "計画的な行動で金運が上昇。",
  "投資や貯金を見直すと吉。",
  "今日は集中して仕事に取り組むと良い日。",
  "思い切った挑戦が吉を呼ぶ日。",
  "お金の使い方を見直すと運気アップ。",
  "今日は慎重に判断することが大切。",
  "新しいスキルを学ぶと仕事運が上昇。",
  "小さな成功が大きな運を呼ぶ日。",
  "節約よりも将来への投資を意識すると吉。",
  "自分のアイデアを提案すると評価される日。",
  "金運は安定。焦らず行動してOK。",
  "周囲と協力すると仕事運がアップ。",
  "今日はチャンスを逃さず掴むと吉。",
  "無駄遣いを控えると運気アップ。"
];

// アドバイス
const advice = [
  "ポジティブな気持ちで過ごすと運気アップ。",
  "無理をせず、自分のペースを大切に。",
  "周囲に感謝の気持ちを伝えると吉。",
  "小さな目標を立てて達成すると運気向上。",
  "笑顔を意識すると良い日。",
  "挑戦よりも安定を重視しても吉。",
  "思いやりのある行動が幸運を呼ぶ。",
  "計画的に行動すると良い日。",
  "直感を信じて行動してみて。",
  "健康に気をつけると運気アップ。",
  "焦らず慎重に判断すると吉。",
  "新しいことを学ぶと良い日。",
  "人との交流を大切にすると運気向上。",
  "感謝の気持ちを忘れず過ごそう。",
  "今日はリラックスを意識して過ごすと吉。",
  "ポジティブな言葉を使うと良い日。",
  "小さな幸せを見つけて喜ぶと運気アップ。",
  "周囲の意見を聞くと吉。",
  "前向きな気持ちで行動すると良い日。",
  "無理せず自然体で過ごすと運気向上。"
];

// ラッキーカラー
const color = [
  "赤", "青", "黄色", "緑", "ピンク",
  "オレンジ", "紫", "水色", "白", "黒",
  "ゴールド", "シルバー", "ベージュ", "ブラウン", "グレー",
  "ネイビー", "ワインレッド", "ライトグリーン", "ターコイズ", "ラベンダー"
];

// 複雑なハッシュ関数で毎日同じ結果
function hashString(str) {
  let hash = 0;
  for (let i = 0; i < str.length; i++) {
    hash = (hash * 31 + str.charCodeAt(i)) % 1000000007;
  }
  return hash;
}

// 占い結果を表示する関数
function showFortune() {
  const name = document.getElementById("name").value.trim();
  const birth = document.getElementById("birth").value.trim();
  const today = new Date().toISOString().slice(0,10);

  if(!name || !birth){
    document.getElementById("result").innerText = "名前と生年月日を入力してね！";
    return;
  }

  const seed = hashString(name + birth + today);

  const rankingResult = ranking[seed % ranking.length];
  const generalResult = general[seed % general.length];
  const loveResult = love[seed % love.length];
  const moneyResult = money[seed % money.length];
  const adviceResult = advice[seed % advice.length];
  const colorResult = color[seed % color.length];

  const resultText = `🎉 今日の運勢：${rankingResult} 🎉\n\n【総合運】${generalResult}\n【恋愛運】${loveResult}\n【金運・仕事運】${moneyResult}\n【アドバイス】${adviceResult}\n【ラッキーカラー】${colorResult}`;

  document.getElementById("result").innerText = resultText;
}
